{"name":"AuditApp_Object_Summary","query":"WITH AttributeUpdateCounts AS (\n    SELECT OM.ObjectID, COUNT(*) AS AttributeUpdateCount\n    FROM ObjectMutations OM\n    JOIN AttributeUpdates AU ON AU.ObjectMutationID = OM.ID\n    GROUP BY OM.ObjectID\n),\nMembershipUpdateCounts AS (\n    SELECT M.MemberID, COUNT(*) AS MembershipUpdateCount\n    FROM Memberships M\n    INNER JOIN Operations Op ON Op.ID = M.OperationID\n    INNER JOIN Activities AC ON AC.ID = M.ActivityID\n    INNER JOIN ActivityTypes AT ON AT.ID = AC.ActivityTypeID\n    INNER JOIN Objects GrpObj ON GrpObj.ID = M.GroupID\n    INNER JOIN SystemTables st ON st.ID = GrpObj.SystemTableID\n    INNER JOIN Objects MemObj ON MemObj.ID = M.MemberID\n    GROUP BY M.MemberID\n)\nSELECT \n    O.ID,\n    O.KeyValue AS 'Object Key Value',\n    O.DisplayName AS 'Object Display Name',\n    ST.SystemName AS 'System Name',\n    COALESCE(AU.AttributeUpdateCount, 0) AS 'Attribute Update Count',\n    COALESCE(MU.MembershipUpdateCount, 0) AS 'Membership Update Count'\nFROM Objects O\nJOIN SystemTables ST ON ST.ID = O.SystemTableID\nLEFT JOIN AttributeUpdateCounts AU ON AU.ObjectID = O.ID\nLEFT JOIN MembershipUpdateCounts MU ON MU.MemberID = O.ID\nORDER BY O.DisplayName ASC;\n","params":[],"columns":[{"name":"ID","type":1},{"name":"Object Key Value","type":0},{"name":"Object Display Name","type":0},{"name":"System Name","type":0},{"name":"Attribute Update Count","type":0},{"name":"Membership Update Count","type":0}]}